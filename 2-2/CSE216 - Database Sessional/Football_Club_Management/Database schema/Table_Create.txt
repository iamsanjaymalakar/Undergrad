create table TEAMS(
TEAM_ID INT NOT NULL,
TEAM_NAME VARCHAR2(255) NOT NULL,
MANAGER_ID INT NOT NULL,
SCOUT_ID INT NOT NULL,
MEDIC_ID INT NOT NULL,
CAPTAIN VARCHAR2(255) NOT NULL,
PRIMARY KEY(TEAM_ID)
)

create table PLAYERS(
PLAYER_ID INT NOT NULL,
PLAYER_NAME VARCHAR2(255) NOT NULL,
DATE_OF_BIRTH DATE NOT NULL,
NATIONALITY VARCHAR2(255) NOT NULL,
POSITION VARCHAR2(255) NOT NULL,
HEIGHT INT NOT NULL,
WEIGHT INT NOT NULL,
CONTACT_NO INT NOT NULL,
WAGE INT NOT NULL,
CONTACT_TILL DATE NOT NULL,
MARKET_VALUE INT NOT NULL,
BUY_OUT_CLAUSE INT NOT NULL,
AGENT_NAME VARCHAR2(255) NOT NULL,
PRIMARY KEY(PLAYER_ID)
)

create table MATCHES(
MATCH_ID INT NOT NULL,
MATCH_DATE DATE NOT NULL,
VENUE VARCHAR2(255) NOT NULL,
OPPONENT VARCHAR2(255) NOT NULL,
TOURNAMENT_NAME VARCHAR2(255) NOT NULL,
STAGE VARCHAR2(255) NOT NULL,
RESULT VARCHAR2(255) NOT NULL,
PRIMARY KEY(MATCH_ID)
)

create table STAFFS (
STAFF_ID INT NOT NULL, 
STAFF_NAME VARCHAR2(255) NOT NULL,
STAFF_ADDRESS VARCHAR2(255) NOT NULL,
CONTACT_NO INT NOT NULL, 
SDATE DATE NOT NULL,
EDATE DATE NOT NULL, 
TYPE VARCHAR2(255) NOT NULL,
SALARY INT NOT NULL,
PRIMARY KEY(STAFF_ID)
)

create table MANAGERS(
MANAGER_ID INT NOT NULL,
TEAM_ID INT NOT NULL,
STAFF_ID INT NOT NULL, 
NATIONALITY VARCHAR2(255) NOT NULL,
NO_OF_TROPHIES INT NOT NULL,
PRIMARY KEY(MANAGER_ID)
)

create table SCOUTS(
SCOUTS_ID INT NOT NULL, 
TEAM_ID INT NOT NULL, 
STAFF_ID INT NOT NULL, 
SCOUTING_REGION VARCHAR2(255) NOT NULL,
REPORTING_DATE DATE NOT NULL,
PRIMARY KEY(SCOUTS_ID)
)

create table MEDICAL_TEAMS(
MEDIC_ID INT NOT NULL,
TEAM_ID INT NOT NULL,
STAFF_ID INT NOT NULL,
NO_OF_MEMBERS INT NOT NULL,
CHIEF_NAME VARCHAR2(255) NOT NULL,
PRIMARY KEY(MEDIC_ID)
)

create table BOARD_MEMBERS(
BMEMBER_ID INT NOT NULL,
PROFESSION VARCHAR2(255) NOT NULL,
PRIMARY KEY(BMEMBER_ID)
)

create table COMMITTEES(
COMMITTEE_ID INT NOT NULL,
START_DATE DATE NOT NULL,
END_DATE DATE NOT NULL,
BUDGET INT NOT NULL,
TOTAL_INCOME INT NOT NULL,
PRIMARY KEY(COMMITTEE_ID)
)

create table MEMBERS(
MEMBER_ID INT NOT NULL,
MEMBER_NAME VARCHAR2(255) NOT NULL,
MEMBER_ADDRESS VARCHAR2(255) NOT NULL,
CONTACT_NO INT NOT NULL,
EMAIL VARCHAR2(255) NOT NULL,
MEMBERSHIP_TYPE VARCHAR2(255) NOT NULL,
VALID_TILL DATE NOT NULL,
PRIMARY KEY(MEMBER_ID)
)

create table PLAYER_MATCH(
MATCH_ID INT NOT NULL,
PLAYER_ID INT NOT NULL, 
MINUTES_PLAYED INT NOT NULL,
GOALS INT NOT NULL,
FOULS INT NOT NULL,
SAVES INT NOT NULL,
RATING INT NOT NULL,
CONSTRAINT PLAYER_MATCH_ID PRIMARY KEY(MATCH_ID,PLAYER_ID)
)

create table PLAYER_TEAM(
TRANSFER_ID INT NOT NULL,
PLAYER_ID INT NOT NULL, 
TEAM_ID INT NOT NULL,
JFROM VARCHAR2(255) NOT NULL, 
JDATE DATE NOT NULL, 
AMOUNT INT NOT NULL,
ISLOAN INT NOT NULL,
PRIMARY KEY(TRANSFER_ID)
)

create table COMMITTEE_BOARD(
COMMITTEE_ID INT NOT NULL, 
BMEMBER_ID INT NOT NULL,
ROLE VARCHAR2(255) NOT NULL,
CONSTRAINT COMMITTEE_BOARD_ID PRIMARY KEY(COMMITTEE_ID,BMEMBER_ID)
)

--update1
create table MEDICALS(
MEDIC_ID INT NOT NULL,
STAFF_ID INT NOT NULL, 
MTEAM_ID INT NOT NULL,
PRIMARY KEY(MEDIC_ID)
)

DROP TABLE MEDICAL_TEAMS;

create table MEDICAL_TEAMS(
MTEAM_ID INT NOT NULL,
TEAM_ID INT NOT NULL,
CHIEF_ID INT NOT NULL,
PRIMARY KEY(MTEAM_ID)
)

create table MEDICAL_TEAMS_TEAMS(
MTEAM_ID INT NOT NULL,
TEAM_ID INT NOT NULL,
CONSTRAINT MTEAM_TEAM_ID PRIMARY KEY(MTEAM_ID,TEAM_ID)
)

--adding foreign keys 

alter table MANAGERS
ADD CONSTRAINT FK_Staff_Manager
FOREIGN KEY(STAFF_ID) REFERENCES STAFFS(STAFF_ID)
ON DELETE CASCADE;

alter table SCOUTS
ADD CONSTRAINT FK_Staff_Scouts 
FOREIGN KEY(STAFF_ID) REFERENCES STAFFS(STAFF_ID)
ON DELETE CASCADE;

alter table MEDICAL_TEAMS
ADD CONSTRAINT FK_Staff_Medic 
FOREIGN KEY(STAFF_ID) REFERENCES STAFFS(STAFF_ID)
ON DELETE CASCADE;

alter table MANAGERS
ADD CONSTRAINT FK_Team_Manager
FOREIGN KEY(TEAM_ID) REFERENCES TEAMS(TEAM_ID)
ON DELETE CASCADE;

alter table SCOUTS
ADD CONSTRAINT FK_Team_Scouts 
FOREIGN KEY(TEAM_ID) REFERENCES TEAMS(TEAM_ID)
ON DELETE CASCADE;

alter table MEDICAL_TEAMS
ADD CONSTRAINT FK_Team_Medic 
FOREIGN KEY(TEAM_ID) REFERENCES TEAMS(TEAM_ID)
ON DELETE CASCADE;

alter table PLAYER_MATCH
ADD CONSTRAINT FK_MPM
FOREIGN KEY(MATCH_ID) REFERENCES MATCHES(MATCH_ID)
ON DELETE CASCADE;

alter table PLAYER_MATCH
ADD CONSTRAINT FK_PMP
FOREIGN KEY(PLAYER_ID) REFERENCES PLAYERS(PLAYER_ID)
ON DELETE CASCADE;

alter table PLAYER_TEAM
ADD CONSTRAINT FK_PPT
FOREIGN KEY(PLAYER_ID) REFERENCES PLAYERS(PLAYER_ID)
ON DELETE CASCADE;

alter table PLAYER_TEAM
ADD CONSTRAINT FK_PTT
FOREIGN KEY(TEAM_ID) REFERENCES TEAMS(TEAM_ID)
ON DELETE CASCADE;

alter table COMMITTEE_BOARD
ADD CONSTRAINT FK_CBC
FOREIGN KEY(BMEMBER_ID) REFERENCES BOARD_MEMBERS(BMEMBER_ID)
ON DELETE CASCADE;

alter table COMMITTEE_BOARD
ADD CONSTRAINT FK_CBB
FOREIGN KEY(COMMITTEE_ID) REFERENCES COMMITTEES(COMMITTEE_ID)
ON DELETE CASCADE;

alter table BOARD_MEMBERS
ADD CONSTRAINT FK_BMS
FOREIGN KEY(STAFF_ID) REFERENCES STAFFS(STAFF_ID)
ON DELETE CASCADE;

alter table BOARD_MEMBERS
add ("STAFF_ID" INT NOT NULL )

--update1

alter table MEDICALS
ADD CONSTRAINT FK_Staff_Medic 
FOREIGN KEY(STAFF_ID) REFERENCES STAFFS(STAFF_ID)
ON DELETE CASCADE;

alter table MEDICALS
ADD CONSTRAINT FK_Medic_MedicTeam
FOREIGN KEY(MTEAM_ID) REFERENCES MEDICAL_TEAMS(MTEAM_ID)
ON DELETE CASCADE;

alter table MEDICAL_TEAMS_TEAMS
ADD CONSTRAINT FK_MT_MTT
FOREIGN KEY(MTEAM_ID) REFERENCES MEDICAL_TEAMS(MTEAM_ID)
ON DELETE CASCADE;

alter table MEDICAL_TEAMS_TEAMS
ADD CONSTRAINT FK_Mteam_Team
FOREIGN KEY(TEAM_ID) REFERENCES TEAMS(TEAM_ID)
ON DELETE CASCADE;
